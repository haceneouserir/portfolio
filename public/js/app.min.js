import{r as D,g as I}from"./aos-B5LL9sPA.js";var M=D();const B=I(M),f=document.querySelector("#toastNotif");let y=!navigator.onLine,v=null;const k=(a,i,l=!1)=>{f.textContent=a,f.style.backgroundColor=i,f.style.opacity=.9,l&&(v&&clearTimeout(v),v=setTimeout(()=>{f.style.opacity=0},3e3))};window.addEventListener("load",()=>{navigator.onLine||(y=!0,k("You are offline!","#ed3c0d"))});window.addEventListener("offline",()=>{y=!0,k("You are offline!","#ed3c0d")});window.addEventListener("online",()=>{y&&(y=!1,k("Back online!","#18d26e",!0),location.reload())});B.init();document.addEventListener("DOMContentLoaded",()=>{let a;typeof turnstile<"u"&&(a=turnstile.render("#cfTurnstile",{sitekey:"0x4AAAAAACLUZydBc06cgvda",language:"en",theme:"light"}));const i=document.documentElement,l="hs_theme",E=document.getElementById("btnDark"),p=document.getElementById("btnLight"),c=document.getElementById("drawerToggle"),w=document.querySelector("aside"),b=document.querySelector('label[for="drawerToggle"]'),d=document.getElementById("backToTop"),S=200,u=(e,s=!0)=>{const t=e==="dark";i.classList.toggle("dark",t),E.classList.toggle("hidden",t),p.classList.toggle("hidden",!t),s&&localStorage.setItem(l,e)},q=i.classList.contains("dark");u(q?"dark":"light",!1),E?.addEventListener("click",()=>u("dark")),p?.addEventListener("click",()=>u("light")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem(l)||u(e.matches?"dark":"light",!1)}),document.addEventListener("mousedown",e=>{c.checked&&!w.contains(e.target)&&e.target!==c&&!b.contains(e.target)&&(e.preventDefault(),c.checked=!1)}),b?.addEventListener("click",e=>{e.preventDefault(),c.checked=!c.checked});const T=document.querySelectorAll("section[id]"),x=document.querySelectorAll(".sidebar-link"),L=()=>{const e=window.scrollY;let s=null;if(T.forEach(t=>{const m=t.id,g=t.offsetTop,h=g+t.offsetHeight;(m!=="contactMe"&&e>=g&&e<h||m==="contactMe"&&e+window.innerHeight>=h)&&(s=m)}),x.forEach(t=>{t.classList.remove("bg-capri","text-gray-800","dark:text-gray-200","hover:bg-capri-light"),t.classList.add("text-gray-700","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800")}),s){const t=document.querySelector(`.sidebar-link[href="#${s}"]`);t?.classList.remove("text-gray-700","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800"),t?.classList.add("bg-capri","text-gray-800","dark:text-gray-200","hover:bg-capri-light")}e>S?(d?.classList.remove("hidden"),d?.classList.add("opacity-100")):(d?.classList.add("hidden"),d?.classList.remove("opacity-100"))};window.addEventListener("scroll",L),L(),document.querySelectorAll(".sidebar-link").forEach(e=>{e.addEventListener("click",()=>{setTimeout(L,10)})}),d?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),document.getElementById("contactForm")?.addEventListener("submit",async e=>{e.preventDefault();const s=e.currentTarget,t=document.getElementById("sendMail");t.disabled=!0,t.textContent="Sending...";const g="mail.php".split(/[?#]/)[0],h=new FormData(s);try{const n=await(await fetch(g,{method:"POST",body:h})).json(),C=["name","email","subject","message","cf-turnstile-response"];if(n.errors)C.forEach(r=>{const o=s.querySelector(`.${r}-field .validation-err`);n.errors[r]?(o?.classList.remove("hidden"),o.textContent=n.errors[r]):(o?.classList.add("hidden"),o.textContent="")});else if(n.success){document.querySelectorAll(".validation-err").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".error-icon").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".success-icon").forEach(o=>o.classList.remove("hidden"));const r=document.querySelector(".alert-msg");r?.classList.remove("hidden","bg-red-400"),r?.classList.add("bg-green-400"),document.querySelector(".alert-msg-text").textContent=n.message,setTimeout(()=>r?.classList.add("hidden"),5e3),s.reset(),typeof turnstile<"u"&&a!==void 0&&turnstile.reset(a)}else{const r=document.querySelector(".alert-msg");document.querySelectorAll(".validation-err").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".success-icon").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".error-icon").forEach(o=>o.classList.remove("hidden")),r?.classList.remove("hidden","bg-green-400"),r?.classList.add("bg-red-400"),document.querySelector(".alert-msg-text").textContent=n.message,setTimeout(()=>r?.classList.add("hidden"),5e3)}}catch{const n=document.querySelector(".alert-msg");n?.classList.remove("hidden"),n?.classList.add("bg-red-400"),document.querySelector(".alert-msg-text").textContent="Something went wrong, please try again later!",setTimeout(()=>n?.classList.add("hidden"),5e3)}finally{t.disabled=!1,t.textContent="Send Message"}}),document.querySelectorAll(".alert-msg-close").forEach(e=>{e.addEventListener("click",s=>{s.preventDefault(),document.querySelector(".alert-msg")?.classList.add("hidden")})})});
