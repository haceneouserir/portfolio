import{r as D,g as I}from"./aos-B5LL9sPA.js";var C=D();const M=I(C),f=document.querySelector("#toastNotif");let y=!navigator.onLine,v=null;const k=(d,i,l=!1)=>{f.textContent=d,f.style.backgroundColor=i,f.style.opacity=.9,l&&(v&&clearTimeout(v),v=setTimeout(()=>{f.style.opacity=0},3e3))};window.addEventListener("load",()=>{navigator.onLine||(y=!0,k("You are offline!","#ed3c0d"))});window.addEventListener("offline",()=>{y=!0,k("You are offline!","#ed3c0d")});window.addEventListener("online",()=>{y&&(y=!1,k("Back online!","#18d26e",!0),location.reload())});M.init();document.addEventListener("DOMContentLoaded",()=>{const d=document.documentElement,i="hs_theme",l=document.getElementById("btnDark"),E=document.getElementById("btnLight"),a=document.getElementById("drawerToggle"),p=document.querySelector("aside"),b=document.querySelector('label[for="drawerToggle"]'),c=document.getElementById("backToTop"),w=200,m=(e,r=!0)=>{const t=e==="dark";d.classList.toggle("dark",t),l.classList.toggle("hidden",t),E.classList.toggle("hidden",!t),r&&localStorage.setItem(i,e)},S=d.classList.contains("dark");m(S?"dark":"light",!1),l?.addEventListener("click",()=>m("dark")),E?.addEventListener("click",()=>m("light")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem(i)||m(e.matches?"dark":"light",!1)}),document.addEventListener("mousedown",e=>{a.checked&&!p.contains(e.target)&&e.target!==a&&!b.contains(e.target)&&(e.preventDefault(),a.checked=!1)}),b?.addEventListener("click",e=>{e.preventDefault(),a.checked=!a.checked});const q=document.querySelectorAll("section[id]"),T=document.querySelectorAll(".sidebar-link"),L=()=>{const e=window.scrollY;let r=null;if(q.forEach(t=>{const u=t.id,g=t.offsetTop,h=g+t.offsetHeight;(u!=="contactMe"&&e>=g&&e<h||u==="contactMe"&&e+window.innerHeight>=h)&&(r=u)}),T.forEach(t=>{t.classList.remove("bg-capri","text-gray-800","dark:text-gray-200","hover:bg-capri-light"),t.classList.add("text-gray-700","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800")}),r){const t=document.querySelector(`.sidebar-link[href="#${r}"]`);t?.classList.remove("text-gray-700","hover:bg-gray-100","dark:text-gray-400","dark:hover:bg-gray-800"),t?.classList.add("bg-capri","text-gray-800","dark:text-gray-200","hover:bg-capri-light")}e>w?(c?.classList.remove("hidden"),c?.classList.add("opacity-100")):(c?.classList.add("hidden"),c?.classList.remove("opacity-100"))};window.addEventListener("scroll",L),L(),document.querySelectorAll(".sidebar-link").forEach(e=>{e.addEventListener("click",()=>{setTimeout(L,10)})}),c?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),document.getElementById("contactForm")?.addEventListener("submit",async e=>{e.preventDefault();const r=e.currentTarget,t=document.getElementById("sendMail");t.disabled=!0,t.textContent="Sending...";const g="contact.php".split(/[?#]/)[0],h=new FormData(r);try{const n=await(await fetch(g,{method:"POST",body:h})).json(),A=["name","email","subject","message","cf-turnstile-response"];if(n.errors)A.forEach(s=>{const o=r.querySelector(`.${s}-field .validation-err`);n.errors[s]?(o?.classList.remove("hidden"),o.textContent=n.errors[s],s==="cf-turnstile-response"&&turnstile.reset(turnstileWidgetId)):(o?.classList.add("hidden"),o.textContent="")});else if(n.success){document.querySelectorAll(".validation-err").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".error-icon").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".success-icon").forEach(o=>o.classList.remove("hidden"));const s=document.querySelector(".alert-msg");s?.classList.remove("hidden","bg-red-400"),s?.classList.add("bg-green-400"),document.querySelector(".alert-msg-text").textContent=n.message,setTimeout(()=>s?.classList.add("hidden"),5e3),r.reset(),turnstile.reset(turnstileWidgetId)}else{const s=document.querySelector(".alert-msg");document.querySelectorAll(".validation-err").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".success-icon").forEach(o=>o.classList.add("hidden")),document.querySelectorAll(".error-icon").forEach(o=>o.classList.remove("hidden")),s?.classList.remove("hidden","bg-green-400"),s?.classList.add("bg-red-400"),document.querySelector(".alert-msg-text").textContent=n.message,setTimeout(()=>s?.classList.add("hidden"),5e3)}}catch{const n=document.querySelector(".alert-msg");n?.classList.remove("hidden"),n?.classList.add("bg-red-400"),document.querySelector(".alert-msg-text").textContent="Something went wrong, please try again later!",setTimeout(()=>n?.classList.add("hidden"),5e3)}finally{t.disabled=!1,t.textContent="Send Message"}}),document.querySelectorAll(".alert-msg-close").forEach(e=>{e.addEventListener("click",r=>{r.preventDefault(),document.querySelector(".alert-msg")?.classList.add("hidden")})})});
